
<ion-header class="header">
  
  <ion-grid fixed>
    <ion-row>
      <ion-col size="1.3">
       <ion-icon name="arrow-back-outline" (click)="redirigir()"></ion-icon>
      </ion-col>
      <ion-col>
        <ion-title style="text-align: center;"><br>Categoria</ion-title>
      </ion-col>
      <ion-col size="1.1">
        <div class="circle-container">
          <div class="circle"></div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
  
  <ion-grid fixed>
    <ion-row>
      <ion-col size="1.3"></ion-col>
      <ion-col style="text-align: center;" size="9.6">
        <ion-icon class="icono2" name="add" id="open-modal" expand="block"></ion-icon>
      </ion-col>
      <ion-col size="1.1">
        
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-header>

<ion-content>
  <div #page>
  <div *ngFor=" let item of categoriares">
    <ion-item-sliding>
      <ion-grid fixed class="contenido" (click)="idcategoria(item)">
        <ion-row>
          <ion-col size="2.2">
            <ion-item>
              <ion-img [src]="item.foto"></ion-img>
            </ion-item>
          </ion-col>
          <ion-col size="7.6">
            <ion-item>
              <ion-label class="label">{{item.nombre}}</ion-label>
            </ion-item>
          </ion-col>
          <ion-col size="2.2">
            <ion-icon class="crear" name="create-outline" ></ion-icon>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-item-options (click)="eliminar(item)">
        <ion-item-option color="danger">Eliminar</ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </div>


  <ion-modal #modal trigger="open-modal" 
  [canDismiss]="canDismiss" 
  [presentingElement]="page">
    <ng-template>
      <ion-header style="height: 230px;">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="1.3">
             <ion-icon name="arrow-back-outline" (click)="modal.dismiss()"></ion-icon>
            </ion-col>
            <ion-col>
              <ion-title style="text-align: center;"><br>Agregar <br>categoria</ion-title>
            </ion-col>
            <ion-col size="1.1">
              <div class="circle-container">
                <div class="circle"></div>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-header>

      <ion-content class="ion-padding">
        <ion-item>
          <ion-label class="datos">Nombre :</ion-label>
          <ion-input 
                    shape="round"
                    [(ngModel)]="categoria.nombre"
                    pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$"
                    required></ion-input>
        </ion-item>
        <ion-item>
          <ion-label class="normal">
            foto
        </ion-label>
        <ion-buttons slot="end">
        <ion-button>
        <label for="file-upload">
          <ion-icon slot="icon-only" name="images"></ion-icon>
        </label>
         <input (change)="newImageUploadCategoria($event)"  id="file-upload" style="display: none" type="file"  accept="image/*" required="true">
        </ion-button>
        </ion-buttons>
        
        </ion-item>
        <img class="image" [src]="categoria.foto">


        <ion-grid fixed size-lg="12">
          <ion-row >
            <ion-col size="1" ></ion-col>
            <ion-col size="10">
              <ion-button class="boton" (click)="guardar()" shape="round" type="submit" expand="block">
                Guardar
              </ion-button>
            </ion-col>
            <ion-col size="1">
              
            </ion-col>
          </ion-row>
        </ion-grid>

      </ion-content>
    </ng-template>
  </ion-modal>
</div>
</ion-content>

<ion-footer>
  <ion-grid fixed class="footer">
  <ion-row>

    <ion-col>
      <div class="content">
        <div class="circle2"></div>
      </div>
    </ion-col>
    
  </ion-row>
  </ion-grid>
</ion-footer>

