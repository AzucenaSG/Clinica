<ion-header class="encabezado">
  
  <ion-grid fixed>
    <ion-row >
      <ion-col size="1.3">
       <ion-icon class="redirigir" name="arrow-back-outline" (click)="redirigir()"></ion-icon>

      </ion-col>
      <ion-col size="9.6">
        <ion-title class="titulo1" style="text-align: center;"><br>Agendar</ion-title>
      </ion-col>
      <ion-col size="1.1">
        <div class="circle-container">
          <div class="circle"></div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-header>

<ion-content [fullscreen]="true">

  <ion-grid fixed>
    <ion-row>
      <ion-col size="1"></ion-col>
      <ion-col size="10">
        <ion-datetime id="open-modal" 
                      presentation="date"
                      [highlightedDates]="highlightedDates"
                      mode="ios"
                      [(ngModel)]="fecha"
                      (ionChange)="fechaSeleccionada()" expand="block"
                      [isDateEnabled]="isWeekday" ></ion-datetime>
      </ion-col>
      <ion-col size="1">
        
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-modal #modal
  [isOpen]="isModalOpen"
  (didDismiss)="isModalOpen = false; mostrarfecha= false; "
    [initialBreakpoint]="0.75"
    [breakpoints]="[0.75]"
    handleBehavior="cycle">
    <ng-template>
      <!--interfaz seleccionar fecha-->
      <ion-content *ngIf="seleccionarfecha" class="ion-padding">
        <div class="ion-margin-top">
          <ion-title class="titulo2" style="margin-bottom: 20px;">Selecciona un Horario</ion-title>
          <ion-list>
            <ion-item *ngIf="!h12">
              <ion-label style="font-size: 20px;">12:00 pm</ion-label>
              <ion-icon class="icono2" name="chevron-forward-circle" (click)="seleccionarhora('12:00 pm')"></ion-icon>
            </ion-item>

            <ion-item *ngIf="h12">
              <ion-label>
                <h1 *ngIf="!admin" style="font-size: 20px;">Ocupado</h1>
                <h1 *ngIf="admin" style="font-size: 20px;">{{hora12.nombre}}</h1>
              <p *ngIf="admin">{{hora12.tipoanalisis}}</p>
              </ion-label>
              <ion-icon class="icono2" slot="end" name="chevron-forward-circle"></ion-icon>
            </ion-item>

            <ion-item *ngIf="!h1">
              <ion-label style="font-size: 20px;">1:00 pm</ion-label>
              <ion-icon class="icono2" name="chevron-forward-circle" (click)="seleccionarhora('1:00 pm')" ></ion-icon>
            </ion-item>
            <ion-item *ngIf="h1">
              <ion-label>
                <h1 *ngIf="!admin" style="font-size: 20px;">Ocupado</h1>
                <h1 *ngIf="admin" style="font-size: 20px;">{{hora1.nombre}}</h1>
              <p *ngIf="admin">{{hora1.tipoanalisis}}</p>
              </ion-label>
              <ion-icon class="icono2" slot="end" name="chevron-forward-circle" ></ion-icon>
            </ion-item>

            <ion-item *ngIf="!h4">
              <ion-label style="font-size: 20px;">4:00 pm</ion-label>
              <ion-icon class="icono2" name="chevron-forward-circle" (click)="seleccionarhora('4:00 pm')" ></ion-icon>
            </ion-item>
            <ion-item *ngIf="h4">
              <ion-label>
                <h1 *ngIf="!admin" style="font-size: 20px;">Ocupado</h1>
                <h1 *ngIf="admin" style="font-size: 20px;">{{hora4.nombre}}</h1>
              <p *ngIf="admin">{{hora4.tipoanalisis}}</p>
              </ion-label>
              <ion-icon class="icono2" slot="end" name="chevron-forward-circle"></ion-icon>
            </ion-item>
            <ion-item *ngIf="!h5">
              <ion-label style="font-size: 20px;">5:00 pm</ion-label>
              <ion-icon class="icono2" name="chevron-forward-circle" (click)="seleccionarhora('5:00 pm')" ></ion-icon>
            </ion-item>
            <ion-item *ngIf="h5">
              <ion-label>
                <h1 *ngIf="!admin" style="font-size: 20px;">Ocupado</h1>
                <h1 *ngIf="admin" style="font-size: 20px;">{{hora5.nombre}}</h1>
              <p *ngIf="admin">{{hora5.tipoanalisis}}</p>
              </ion-label>
              <ion-icon class="icono2" slot="end" name="chevron-forward-circle" ></ion-icon>
            </ion-item>
            <ion-item *ngIf="!h6">
              <ion-label style="font-size: 20px;">6:00 pm</ion-label>
              <ion-icon class="icono2" name="chevron-forward-circle" (click)="seleccionarhora('6:00 pm')" ></ion-icon>
            </ion-item>
            <ion-item *ngIf="h6">
              <ion-label>
                <h1 *ngIf="!admin" style="font-size: 20px;">Ocupado</h1>
                <h1 *ngIf="admin" style="font-size: 20px;">{{hora6.nombre}}</h1>
              <p *ngIf="admin">{{hora6.tipoanalisis}}</p>
              </ion-label>
              <ion-icon class="icono2" slot="end" name="chevron-forward-circle"></ion-icon>
            </ion-item>

            <ion-item *ngIf="!h7">
              <ion-label style="font-size: 20px;">7:00 pm</ion-label>
              <ion-icon class="icono2" name="chevron-forward-circle" (click)="seleccionarhora('7:00 pm')" ></ion-icon>
            </ion-item>
            <ion-item *ngIf="h7">
              <ion-label>
                <h1 *ngIf="!admin" style="font-size: 20px;">Ocupado</h1>
                <h1 *ngIf="admin" style="font-size: 20px;">{{hora7.nombre}}</h1>
              <p *ngIf="admin">{{hora7.tipoanalisis}}</p>
              </ion-label>
              <ion-icon class="icono2" slot="end" name="chevron-forward-circle"></ion-icon>
            </ion-item>

            <ion-item *ngIf="!h8">
              <ion-label style="font-size: 20px;">8:00 pm</ion-label>
              <ion-icon class="icono2" name="chevron-forward-circle" (click)="seleccionarhora('8:00 pm')" ></ion-icon>
            </ion-item>
            <ion-item *ngIf="h8">
              <ion-label>
                <h1 *ngIf="!admin" style="font-size: 20px;">Ocupado</h1>
                <h1 *ngIf="admin" style="font-size: 20px;">{{hora8.nombre}}</h1>
              <p *ngIf="admin">{{hora8.tipoanalisis}}</p>
              </ion-label>
              <ion-icon class="icono2" slot="end" name="chevron-forward-circle"  ></ion-icon>
            </ion-item>
          </ion-list> 
          
        </div>
      </ion-content>
  <!--  -->
  <!-- interfaz fecha y hora del paciente -->
      <ion-content *ngIf="mostrarfecha" class="ion-padding">
        <div class="ion-margin-top">
             <ion-title class="titulo2" style="margin-bottom: 10px;">Favor de confirmar la cita</ion-title>
            <ion-item>
              <ion-label class="label2">Asunto por el cual necesita una cita:</ion-label>
            </ion-item>
            <ion-item>
              <ion-input [(ngModel)]="agendado.asunto" type="text" placeholder="Escribir asunto"></ion-input>
            </ion-item>

            <ion-grid fixed>
              <ion-row>
                <ion-col size="12">
                  <ion-label class="label2"> Hora seleccionada: {{hora}}</ion-label>
                </ion-col>
              </ion-row>
            </ion-grid>
            
            <ion-grid fixed>
              <ion-row>
                <ion-col size="6">
                  <ion-button (click)="cerrarmodal2()" expand="block" fill="clear" shape="round">
                    Regresar
                  </ion-button>
                </ion-col>
                <ion-col size="6">
                  <ion-button (click)="confirmar()" expand="block" fill="clear" shape="round">
                    Confirmar
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
        </div>
      </ion-content>

  <!--  -->
    </ng-template>
  </ion-modal>

</ion-content>
